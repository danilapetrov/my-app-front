<h1>Sign up</h1>

<div>
  <input placeholder="First name"
    class="new-user-input-item"
    name="first"
    required
    pattern="([A-Z][a-zA-Z]*)"
    minlength="2"
    maxlength="40"
    #firstname_error="ngModel"
    [(ngModel)]="user.firstName">
  <br>

  <div *ngIf="firstname_error.invalid && (firstname_error.dirty || firstname_error.touched)"
    class="div-error">
    <div *ngIf="firstname_error.errors?.['required']">
      First name is required.
    </div>
    <div *ngIf="firstname_error.errors?.['pattern']">
      First name should be valid.
    </div>
    <div *ngIf="firstname_error.errors?.['minlength'] || firstname_error.errors?.['maxlength']">
      First name size should be between 2 and 40 characters.
    </div>
  </div>

  <input placeholder="Last name"
    class="new-user-input-item"
    name="last"
    required
    pattern="([A-Z][a-zA-Z]*)"
    minlength="2"
    maxlength="40"
    #lastname_error="ngModel"
    [(ngModel)]="user.lastName">
  <br>

  <div *ngIf="lastname_error.invalid && (lastname_error.dirty || lastname_error.touched)"
    class="div-error">
    <div *ngIf="lastname_error.errors?.['required']">
      Last name is required.
    </div>
    <div *ngIf="lastname_error.errors?.['pattern']">
      Last name should be valid.
    </div>
    <div *ngIf="lastname_error.errors?.['minlength'] || lastname_error.errors?.['maxlength']">
      Last name size should be between 2 and 40 characters.
    </div>
  </div>

  <input placeholder="Email"
    class="new-user-input-item"
    name="email"
    required
    email
    #email_error="ngModel"
    [(ngModel)]="user.email">
  <br>

  <div *ngIf="email_error.invalid && (email_error.dirty || email_error.touched)"
    class="div-error">
    <div *ngIf="email_error.errors?.['required']">
      Email is required.
    </div>
    <div *ngIf="email_error.errors?.['email']">
      Email should be valid.
    </div>
  </div>

  <input placeholder="Password"
    class="new-user-input-item"
    name="password"
    required
    minlength="6"
    maxlength="255"
    pattern="^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{6,255}$"
    #password_error="ngModel"
    [(ngModel)]="user.password">
  <br>

  <div *ngIf="password_error.invalid && (password_error.dirty || password_error.touched)"
    class="div-error">
    <div *ngIf="password_error.errors?.['required']">
      Password is required.
    </div>
    <div *ngIf="password_error.errors?.['minlength'] || password_error.errors?.['maxlength']">
      Password size should be between 6 and 255 characters.
    </div>
    <div *ngIf="password_error.errors?.['pattern']">
      Password should be valid.
    </div>
  </div>

  <input placeholder="Country"
    class="new-user-input-item"
    name="country"
    required
    minlength="3"
    maxlength="74"
    pattern="([A-Z][a-zA-Z]*)"
    #country_error="ngModel"
    [(ngModel)]="user.country">
  <br>

  <div *ngIf="country_error.invalid && (country_error.dirty || country_error.touched)"
    class="div-error">
    <div *ngIf="country_error.errors?.['required']">
      Country is required.
    </div>
    <div *ngIf="country_error.errors?.['minlength'] || country_error.errors?.['maxlength']">
      Country size should be between 3 and 74 characters.
    </div>
    <div *ngIf="country_error.errors?.['pattern']">
      Country should be valid.
    </div>
  </div>

  <button *ngIf="!firstname_error.invalid && !lastname_error.invalid && !email_error.invalid && !country_error.invalid"
    (click)="sendUser(user)"
    class="new_user_button_create">
    Sign up
  </button>

  <button *ngIf="firstname_error.invalid || lastname_error.invalid || email_error.invalid || country_error.invalid"
    disabled>
    Sign up
  </button>
</div>

<div>
  Already have an account?
    <button routerLink="/sign-in">
      Sign in
    </button>

</div>
